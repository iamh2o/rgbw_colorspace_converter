<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1" />
<meta name="generator" content="pdoc 0.9.2" />
<title>pyramidtriangles.ponzicolor.space API documentation</title>
<meta name="description" content="" />
<link rel="preload stylesheet" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/10up-sanitize.css/11.0.1/sanitize.min.css" integrity="sha256-PK9q560IAAa6WVRRh76LtCaI8pjTJ2z11v0miyNNjrs=" crossorigin>
<link rel="preload stylesheet" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/10up-sanitize.css/11.0.1/typography.min.css" integrity="sha256-7l/o7C8jubJiy74VsKTidCy1yBkRtiUGbVkYBylBqUg=" crossorigin>
<link rel="stylesheet preload" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.1/styles/github.min.css" crossorigin>
<style>:root{--highlight-color:#fe9}.flex{display:flex !important}body{line-height:1.5em}#content{padding:20px}#sidebar{padding:30px;overflow:hidden}#sidebar > *:last-child{margin-bottom:2cm}.http-server-breadcrumbs{font-size:130%;margin:0 0 15px 0}#footer{font-size:.75em;padding:5px 30px;border-top:1px solid #ddd;text-align:right}#footer p{margin:0 0 0 1em;display:inline-block}#footer p:last-child{margin-right:30px}h1,h2,h3,h4,h5{font-weight:300}h1{font-size:2.5em;line-height:1.1em}h2{font-size:1.75em;margin:1em 0 .50em 0}h3{font-size:1.4em;margin:25px 0 10px 0}h4{margin:0;font-size:105%}h1:target,h2:target,h3:target,h4:target,h5:target,h6:target{background:var(--highlight-color);padding:.2em 0}a{color:#058;text-decoration:none;transition:color .3s ease-in-out}a:hover{color:#e82}.title code{font-weight:bold}h2[id^="header-"]{margin-top:2em}.ident{color:#900}pre code{background:#f8f8f8;font-size:.8em;line-height:1.4em}code{background:#f2f2f1;padding:1px 4px;overflow-wrap:break-word}h1 code{background:transparent}pre{background:#f8f8f8;border:0;border-top:1px solid #ccc;border-bottom:1px solid #ccc;margin:1em 0;padding:1ex}#http-server-module-list{display:flex;flex-flow:column}#http-server-module-list div{display:flex}#http-server-module-list dt{min-width:10%}#http-server-module-list p{margin-top:0}.toc ul,#index{list-style-type:none;margin:0;padding:0}#index code{background:transparent}#index h3{border-bottom:1px solid #ddd}#index ul{padding:0}#index h4{margin-top:.6em;font-weight:bold}@media (min-width:200ex){#index .two-column{column-count:2}}@media (min-width:300ex){#index .two-column{column-count:3}}dl{margin-bottom:2em}dl dl:last-child{margin-bottom:4em}dd{margin:0 0 1em 3em}#header-classes + dl > dd{margin-bottom:3em}dd dd{margin-left:2em}dd p{margin:10px 0}.name{background:#eee;font-weight:bold;font-size:.85em;padding:5px 10px;display:inline-block;min-width:40%}.name:hover{background:#e0e0e0}dt:target .name{background:var(--highlight-color)}.name > span:first-child{white-space:nowrap}.name.class > span:nth-child(2){margin-left:.4em}.inherited{color:#999;border-left:5px solid #eee;padding-left:1em}.inheritance em{font-style:normal;font-weight:bold}.desc h2{font-weight:400;font-size:1.25em}.desc h3{font-size:1em}.desc dt code{background:inherit}.source summary,.git-link-div{color:#666;text-align:right;font-weight:400;font-size:.8em;text-transform:uppercase}.source summary > *{white-space:nowrap;cursor:pointer}.git-link{color:inherit;margin-left:1em}.source pre{max-height:500px;overflow:auto;margin:0}.source pre code{font-size:12px;overflow:visible}.hlist{list-style:none}.hlist li{display:inline}.hlist li:after{content:',\2002'}.hlist li:last-child:after{content:none}.hlist .hlist{display:inline;padding-left:1em}img{max-width:100%}td{padding:0 .5em}.admonition{padding:.1em .5em;margin-bottom:1em}.admonition-title{font-weight:bold}.admonition.note,.admonition.info,.admonition.important{background:#aef}.admonition.todo,.admonition.versionadded,.admonition.tip,.admonition.hint{background:#dfd}.admonition.warning,.admonition.versionchanged,.admonition.deprecated{background:#fd4}.admonition.error,.admonition.danger,.admonition.caution{background:lightpink}</style>
<style media="screen and (min-width: 700px)">@media screen and (min-width:700px){#sidebar{width:30%;height:100vh;overflow:auto;position:sticky;top:0}#content{width:70%;max-width:100ch;padding:3em 4em;border-left:1px solid #ddd}pre code{font-size:1em}.item .name{font-size:1em}main{display:flex;flex-direction:row-reverse;justify-content:flex-end}.toc ul ul,#index ul{padding-left:1.5em}.toc > ul > li{margin-top:.5em}}</style>
<style media="print">@media print{#sidebar h1{page-break-before:always}.source{display:none}}@media print{*{background:transparent !important;color:#000 !important;box-shadow:none !important;text-shadow:none !important}a[href]:after{content:" (" attr(href) ")";font-size:90%}a[href][title]:after{content:none}abbr[title]:after{content:" (" attr(title) ")"}.ir a:after,a[href^="javascript:"]:after,a[href^="#"]:after{content:""}pre,blockquote{border:1px solid #999;page-break-inside:avoid}thead{display:table-header-group}tr,img{page-break-inside:avoid}img{max-width:100% !important}@page{margin:0.5cm}p,h2,h3{orphans:3;widows:3}h1,h2,h3,h4,h5,h6{page-break-after:avoid}}</style>
<script defer src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.1/highlight.min.js" integrity="sha256-Uv3H6lx7dJmRfRvH8TH6kJD1TSK1aFcwgx+mdg3epi8=" crossorigin></script>
<script>window.addEventListener('DOMContentLoaded', () => hljs.initHighlighting())</script>
</head>
<body>
<main>
<article id="content">
<header>
<h1 class="title">Module <code>pyramidtriangles.ponzicolor.space</code></h1>
</header>
<section id="section-intro">
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">from __future__ import annotations
import colorsys
from collections.abc import Callable
from dataclasses import dataclass
from math import atan2, cos, degrees, sin, sqrt, radians, fmod

from . import linear


@dataclass
class RGB:
    &#34;&#34;&#34;
    RGB is an sRGB color.
    &#34;&#34;&#34;

    r: float  # [0-1]
    g: float  # [0-1]
    b: float  # [0-1]

    @property
    def valid(self) -&gt; bool:
        return 0.0 &lt;= self.r &lt;= 1.0 and 0.0 &lt;= self.g &lt;= 1.0 and 0.0 &lt;= self.b &lt;= 1.0

    def clamp(self) -&gt; RGB:
        def c(v: float) -&gt; float:
            return max(0.0, min(v, 1.0))

        return RGB(c(self.r), c(self.g), c(self.b))


@dataclass
class RGBW:
    &#34;&#34;&#34;
    RGBW is an sRGB color with an extended white element for saturation.
    &#34;&#34;&#34;
    r: float  # [0-1]
    g: float  # [0-1]
    b: float  # [0-1]
    w: float  # [0-1]


@dataclass
class HSV:
    &#34;&#34;&#34;
    Hue in [0..360], Saturation and Value in [0..1]. You&#39;re better off using HCL, see below.
    &#34;&#34;&#34;
    h: float
    s: float
    v: float


@dataclass
class Lab:
    &#34;&#34;&#34;
    Lab is a color in the CIE L*a*b* perceptually-uniform color space.
    &#34;&#34;&#34;

    l: float
    a: float
    b: float


@dataclass
class HCL:
    &#34;&#34;&#34;
    HCL is a color in the CIE L*C*h° color space, a polar projection of L*a*b*.
    It&#39;s basically a superior HSV.
    &#34;&#34;&#34;

    h: float  # hue [0-360)
    c: float  # chroma [0-1]
    l: float  # luminance [0-1]


@dataclass
class XYZ:
    &#34;&#34;&#34;
    XYZ is a color in CIE&#39;s standard color space.
    &#34;&#34;&#34;

    x: float
    y: float
    z: float


@dataclass
class LinearRGB:
    &#34;&#34;&#34;
    RGB is a linear color.
    &#34;&#34;&#34;

    r: float  # [0-1]
    g: float  # [0-1]
    b: float  # [0-1]


# Reference white points

D50 = XYZ(0.96422, 1.00000, 0.82521)
D65 = XYZ(0.95047, 1.00000, 1.08883)


def srgb_to_hsv(rgb: RGB) -&gt; HSV:
    h, s, v = colorsys.rgb_to_hsv(rgb.r, rgb.g, rgb.b)
    return HSV(h * 360, s, v)


def hsv_to_srgb(hsv: HSV) -&gt; RGB:
    r, g, b = colorsys.hsv_to_rgb(hsv.h / 360, hsv.s, hsv.v)
    return RGB(r, g, b)


def hsv_to_rgbw(hsv: HSV) -&gt; RGBW:
    h_prime = hsv.h / 60
    chroma = hsv.s * hsv.v
    x = chroma * (1 - abs((fmod(h_prime, 2) - 1)))

    r, g, b, w = 0.0, 0.0, 0.0, hsv.v - chroma
    if h_prime &lt;= 1:
        r, g = chroma, x
    elif h_prime &lt;= 2:
        r, g = x, chroma
    elif h_prime &lt;= 3:
        g, b = chroma, x
    elif h_prime &lt;= 4:
        g, b = x, chroma
    elif h_prime &lt;= 5:
        r, b = x, chroma
    else:
        r, b = chroma, x
    return RGBW(r, g, b, w)


def rgbw_to_hsv(rgbw: RGBW) -&gt; HSV:
    maximal = max(rgbw.r, rgbw.g, rgbw.b)
    minimal = min(rgbw.r, rgbw.g, rgbw.b)
    chroma = maximal - minimal

    if chroma == 0:
        hue = 0
    elif maximal == rgbw.r:
        hue = (rgbw.g - rgbw.b) / chroma
    elif maximal == rgbw.g:
        hue = 2 + (rgbw.b - rgbw.r) / chroma
    else:
        hue = 4 + (rgbw.r - rgbw.g) / chroma

    hue *= 60
    if hue &lt; 0:
        hue += 360

    value = chroma + rgbw.w

    saturation = 0.0
    if maximal &gt; 0.0:
        saturation = chroma / value

    return HSV(hue, saturation, value)


def hcl_to_lab(hcl: HCL) -&gt; Lab:
    h_rad = radians(hcl.h)
    a = hcl.c * cos(h_rad)
    b = hcl.c * sin(h_rad)
    return Lab(hcl.l, a, b)


def lab_to_hcl(lab: Lab) -&gt; HCL:
    t = 1.0e-4
    h = (
        degrees(atan2(lab.b, lab.a)) % 360.0
        if abs(lab.b - lab.a) &gt; t and abs(lab.a) &gt; t
        else 0.0
    )
    c = sqrt(lab.a ** 2 + lab.b ** 2)
    l = lab.l

    return HCL(h, c, l)


def lab_to_xyz(lab: Lab, white_ref: XYZ = D65) -&gt; XYZ:
    def finv(t: float) -&gt; float:
        return (
            t ** 3
            if t &gt; 6.0 / 29.0
            else 3.0 * 6.0 / 29.0 * 6.0 / 29.0 * (t - 4.0 / 29.0)
        )

    l2 = (lab.l + 0.16) / 1.16
    return XYZ(
        white_ref.x * finv(l2 + lab.a / 5.0),
        white_ref.y * finv(l2),
        white_ref.z * finv(l2 - lab.b / 2.0),
    )


def xyz_to_lab(xyz: XYZ, white_ref: XYZ = D65) -&gt; Lab:
    def f(t: float) -&gt; float:
        return (
            t ** (1 / 3)
            if t &gt; 6.0 / 29.0 * 6.0 / 29.0 * 6.0 / 29.0
            else t / 3.0 * 29.0 / 6.0 * 29.0 / 6.0 + 4.0 / 29.0
        )

    fy = f(xyz.y / white_ref.y)
    return Lab(
        1.16 * fy - 0.16,
        5.0 * (f(xyz.x / white_ref.x) - fy),
        2.0 * (fy - f(xyz.z / white_ref.z)),
    )


def xyz_to_linear_rgb(xyz: XYZ) -&gt; LinearRGB:
    return LinearRGB(
        3.2404542 * xyz.x - 1.5371385 * xyz.y - 0.4985314 * xyz.z,
        -0.9692660 * xyz.x + 1.8760108 * xyz.y + 0.0415560 * xyz.z,
        0.0556434 * xyz.x - 0.2040259 * xyz.y + 1.0572252 * xyz.z,
    )


def linear_rgb_to_xyz(rgb: LinearRGB) -&gt; XYZ:
    return XYZ(
        0.4124564 * rgb.r + 0.3575761 * rgb.g + 0.1804375 * rgb.b,
        0.2126729 * rgb.r + 0.7151522 * rgb.g + 0.0721750 * rgb.b,
        0.0193339 * rgb.r + 0.1191920 * rgb.g + 0.9503041 * rgb.b,
    )


def linear_rgb_to_srgb(
    rgb: LinearRGB, delinearize: Callable[[float], float] = linear.delinearize
) -&gt; RGB:
    return RGB(delinearize(rgb.r), delinearize(rgb.g), delinearize(rgb.b))


def srgb_to_linear_rgb(
    rgb: RGB, linearize: Callable[[float], float] = linear.linearize
) -&gt; LinearRGB:
    return LinearRGB(linearize(rgb.r), linearize(rgb.g), linearize(rgb.b))</code></pre>
</details>
</section>
<section>
</section>
<section>
</section>
<section>
<h2 class="section-title" id="header-functions">Functions</h2>
<dl>
<dt id="pyramidtriangles.ponzicolor.space.hcl_to_lab"><code class="name flex">
<span>def <span class="ident">hcl_to_lab</span></span>(<span>hcl: <a title="pyramidtriangles.ponzicolor.space.HCL" href="#pyramidtriangles.ponzicolor.space.HCL">HCL</a>) ‑> <a title="pyramidtriangles.ponzicolor.space.Lab" href="#pyramidtriangles.ponzicolor.space.Lab">Lab</a></span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def hcl_to_lab(hcl: HCL) -&gt; Lab:
    h_rad = radians(hcl.h)
    a = hcl.c * cos(h_rad)
    b = hcl.c * sin(h_rad)
    return Lab(hcl.l, a, b)</code></pre>
</details>
</dd>
<dt id="pyramidtriangles.ponzicolor.space.hsv_to_rgbw"><code class="name flex">
<span>def <span class="ident">hsv_to_rgbw</span></span>(<span>hsv: <a title="pyramidtriangles.ponzicolor.space.HSV" href="#pyramidtriangles.ponzicolor.space.HSV">HSV</a>) ‑> <a title="pyramidtriangles.ponzicolor.space.RGBW" href="#pyramidtriangles.ponzicolor.space.RGBW">RGBW</a></span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def hsv_to_rgbw(hsv: HSV) -&gt; RGBW:
    h_prime = hsv.h / 60
    chroma = hsv.s * hsv.v
    x = chroma * (1 - abs((fmod(h_prime, 2) - 1)))

    r, g, b, w = 0.0, 0.0, 0.0, hsv.v - chroma
    if h_prime &lt;= 1:
        r, g = chroma, x
    elif h_prime &lt;= 2:
        r, g = x, chroma
    elif h_prime &lt;= 3:
        g, b = chroma, x
    elif h_prime &lt;= 4:
        g, b = x, chroma
    elif h_prime &lt;= 5:
        r, b = x, chroma
    else:
        r, b = chroma, x
    return RGBW(r, g, b, w)</code></pre>
</details>
</dd>
<dt id="pyramidtriangles.ponzicolor.space.hsv_to_srgb"><code class="name flex">
<span>def <span class="ident">hsv_to_srgb</span></span>(<span>hsv: <a title="pyramidtriangles.ponzicolor.space.HSV" href="#pyramidtriangles.ponzicolor.space.HSV">HSV</a>) ‑> <a title="pyramidtriangles.ponzicolor.space.RGB" href="#pyramidtriangles.ponzicolor.space.RGB">RGB</a></span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def hsv_to_srgb(hsv: HSV) -&gt; RGB:
    r, g, b = colorsys.hsv_to_rgb(hsv.h / 360, hsv.s, hsv.v)
    return RGB(r, g, b)</code></pre>
</details>
</dd>
<dt id="pyramidtriangles.ponzicolor.space.lab_to_hcl"><code class="name flex">
<span>def <span class="ident">lab_to_hcl</span></span>(<span>lab: <a title="pyramidtriangles.ponzicolor.space.Lab" href="#pyramidtriangles.ponzicolor.space.Lab">Lab</a>) ‑> <a title="pyramidtriangles.ponzicolor.space.HCL" href="#pyramidtriangles.ponzicolor.space.HCL">HCL</a></span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def lab_to_hcl(lab: Lab) -&gt; HCL:
    t = 1.0e-4
    h = (
        degrees(atan2(lab.b, lab.a)) % 360.0
        if abs(lab.b - lab.a) &gt; t and abs(lab.a) &gt; t
        else 0.0
    )
    c = sqrt(lab.a ** 2 + lab.b ** 2)
    l = lab.l

    return HCL(h, c, l)</code></pre>
</details>
</dd>
<dt id="pyramidtriangles.ponzicolor.space.lab_to_xyz"><code class="name flex">
<span>def <span class="ident">lab_to_xyz</span></span>(<span>lab: <a title="pyramidtriangles.ponzicolor.space.Lab" href="#pyramidtriangles.ponzicolor.space.Lab">Lab</a>, white_ref: <a title="pyramidtriangles.ponzicolor.space.XYZ" href="#pyramidtriangles.ponzicolor.space.XYZ">XYZ</a> = XYZ(x=0.95047, y=1.0, z=1.08883)) ‑> <a title="pyramidtriangles.ponzicolor.space.XYZ" href="#pyramidtriangles.ponzicolor.space.XYZ">XYZ</a></span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def lab_to_xyz(lab: Lab, white_ref: XYZ = D65) -&gt; XYZ:
    def finv(t: float) -&gt; float:
        return (
            t ** 3
            if t &gt; 6.0 / 29.0
            else 3.0 * 6.0 / 29.0 * 6.0 / 29.0 * (t - 4.0 / 29.0)
        )

    l2 = (lab.l + 0.16) / 1.16
    return XYZ(
        white_ref.x * finv(l2 + lab.a / 5.0),
        white_ref.y * finv(l2),
        white_ref.z * finv(l2 - lab.b / 2.0),
    )</code></pre>
</details>
</dd>
<dt id="pyramidtriangles.ponzicolor.space.linear_rgb_to_srgb"><code class="name flex">
<span>def <span class="ident">linear_rgb_to_srgb</span></span>(<span>rgb: <a title="pyramidtriangles.ponzicolor.space.LinearRGB" href="#pyramidtriangles.ponzicolor.space.LinearRGB">LinearRGB</a>, delinearize: Callable[[float], float] = &lt;function delinearize&gt;) ‑> <a title="pyramidtriangles.ponzicolor.space.RGB" href="#pyramidtriangles.ponzicolor.space.RGB">RGB</a></span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def linear_rgb_to_srgb(
    rgb: LinearRGB, delinearize: Callable[[float], float] = linear.delinearize
) -&gt; RGB:
    return RGB(delinearize(rgb.r), delinearize(rgb.g), delinearize(rgb.b))</code></pre>
</details>
</dd>
<dt id="pyramidtriangles.ponzicolor.space.linear_rgb_to_xyz"><code class="name flex">
<span>def <span class="ident">linear_rgb_to_xyz</span></span>(<span>rgb: <a title="pyramidtriangles.ponzicolor.space.LinearRGB" href="#pyramidtriangles.ponzicolor.space.LinearRGB">LinearRGB</a>) ‑> <a title="pyramidtriangles.ponzicolor.space.XYZ" href="#pyramidtriangles.ponzicolor.space.XYZ">XYZ</a></span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def linear_rgb_to_xyz(rgb: LinearRGB) -&gt; XYZ:
    return XYZ(
        0.4124564 * rgb.r + 0.3575761 * rgb.g + 0.1804375 * rgb.b,
        0.2126729 * rgb.r + 0.7151522 * rgb.g + 0.0721750 * rgb.b,
        0.0193339 * rgb.r + 0.1191920 * rgb.g + 0.9503041 * rgb.b,
    )</code></pre>
</details>
</dd>
<dt id="pyramidtriangles.ponzicolor.space.rgbw_to_hsv"><code class="name flex">
<span>def <span class="ident">rgbw_to_hsv</span></span>(<span>rgbw: <a title="pyramidtriangles.ponzicolor.space.RGBW" href="#pyramidtriangles.ponzicolor.space.RGBW">RGBW</a>) ‑> <a title="pyramidtriangles.ponzicolor.space.HSV" href="#pyramidtriangles.ponzicolor.space.HSV">HSV</a></span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def rgbw_to_hsv(rgbw: RGBW) -&gt; HSV:
    maximal = max(rgbw.r, rgbw.g, rgbw.b)
    minimal = min(rgbw.r, rgbw.g, rgbw.b)
    chroma = maximal - minimal

    if chroma == 0:
        hue = 0
    elif maximal == rgbw.r:
        hue = (rgbw.g - rgbw.b) / chroma
    elif maximal == rgbw.g:
        hue = 2 + (rgbw.b - rgbw.r) / chroma
    else:
        hue = 4 + (rgbw.r - rgbw.g) / chroma

    hue *= 60
    if hue &lt; 0:
        hue += 360

    value = chroma + rgbw.w

    saturation = 0.0
    if maximal &gt; 0.0:
        saturation = chroma / value

    return HSV(hue, saturation, value)</code></pre>
</details>
</dd>
<dt id="pyramidtriangles.ponzicolor.space.srgb_to_hsv"><code class="name flex">
<span>def <span class="ident">srgb_to_hsv</span></span>(<span>rgb: <a title="pyramidtriangles.ponzicolor.space.RGB" href="#pyramidtriangles.ponzicolor.space.RGB">RGB</a>) ‑> <a title="pyramidtriangles.ponzicolor.space.HSV" href="#pyramidtriangles.ponzicolor.space.HSV">HSV</a></span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def srgb_to_hsv(rgb: RGB) -&gt; HSV:
    h, s, v = colorsys.rgb_to_hsv(rgb.r, rgb.g, rgb.b)
    return HSV(h * 360, s, v)</code></pre>
</details>
</dd>
<dt id="pyramidtriangles.ponzicolor.space.srgb_to_linear_rgb"><code class="name flex">
<span>def <span class="ident">srgb_to_linear_rgb</span></span>(<span>rgb: <a title="pyramidtriangles.ponzicolor.space.RGB" href="#pyramidtriangles.ponzicolor.space.RGB">RGB</a>, linearize: Callable[[float], float] = &lt;function linearize&gt;) ‑> <a title="pyramidtriangles.ponzicolor.space.LinearRGB" href="#pyramidtriangles.ponzicolor.space.LinearRGB">LinearRGB</a></span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def srgb_to_linear_rgb(
    rgb: RGB, linearize: Callable[[float], float] = linear.linearize
) -&gt; LinearRGB:
    return LinearRGB(linearize(rgb.r), linearize(rgb.g), linearize(rgb.b))</code></pre>
</details>
</dd>
<dt id="pyramidtriangles.ponzicolor.space.xyz_to_lab"><code class="name flex">
<span>def <span class="ident">xyz_to_lab</span></span>(<span>xyz: <a title="pyramidtriangles.ponzicolor.space.XYZ" href="#pyramidtriangles.ponzicolor.space.XYZ">XYZ</a>, white_ref: <a title="pyramidtriangles.ponzicolor.space.XYZ" href="#pyramidtriangles.ponzicolor.space.XYZ">XYZ</a> = XYZ(x=0.95047, y=1.0, z=1.08883)) ‑> <a title="pyramidtriangles.ponzicolor.space.Lab" href="#pyramidtriangles.ponzicolor.space.Lab">Lab</a></span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def xyz_to_lab(xyz: XYZ, white_ref: XYZ = D65) -&gt; Lab:
    def f(t: float) -&gt; float:
        return (
            t ** (1 / 3)
            if t &gt; 6.0 / 29.0 * 6.0 / 29.0 * 6.0 / 29.0
            else t / 3.0 * 29.0 / 6.0 * 29.0 / 6.0 + 4.0 / 29.0
        )

    fy = f(xyz.y / white_ref.y)
    return Lab(
        1.16 * fy - 0.16,
        5.0 * (f(xyz.x / white_ref.x) - fy),
        2.0 * (fy - f(xyz.z / white_ref.z)),
    )</code></pre>
</details>
</dd>
<dt id="pyramidtriangles.ponzicolor.space.xyz_to_linear_rgb"><code class="name flex">
<span>def <span class="ident">xyz_to_linear_rgb</span></span>(<span>xyz: <a title="pyramidtriangles.ponzicolor.space.XYZ" href="#pyramidtriangles.ponzicolor.space.XYZ">XYZ</a>) ‑> <a title="pyramidtriangles.ponzicolor.space.LinearRGB" href="#pyramidtriangles.ponzicolor.space.LinearRGB">LinearRGB</a></span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def xyz_to_linear_rgb(xyz: XYZ) -&gt; LinearRGB:
    return LinearRGB(
        3.2404542 * xyz.x - 1.5371385 * xyz.y - 0.4985314 * xyz.z,
        -0.9692660 * xyz.x + 1.8760108 * xyz.y + 0.0415560 * xyz.z,
        0.0556434 * xyz.x - 0.2040259 * xyz.y + 1.0572252 * xyz.z,
    )</code></pre>
</details>
</dd>
</dl>
</section>
<section>
<h2 class="section-title" id="header-classes">Classes</h2>
<dl>
<dt id="pyramidtriangles.ponzicolor.space.HCL"><code class="flex name class">
<span>class <span class="ident">HCL</span></span>
<span>(</span><span>h: float, c: float, l: float)</span>
</code></dt>
<dd>
<div class="desc"><p>HCL is a color in the CIE L<em>C</em>h° color space, a polar projection of L<em>a</em>b*.
It's basically a superior HSV.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@dataclass
class HCL:
    &#34;&#34;&#34;
    HCL is a color in the CIE L*C*h° color space, a polar projection of L*a*b*.
    It&#39;s basically a superior HSV.
    &#34;&#34;&#34;

    h: float  # hue [0-360)
    c: float  # chroma [0-1]
    l: float  # luminance [0-1]</code></pre>
</details>
<h3>Class variables</h3>
<dl>
<dt id="pyramidtriangles.ponzicolor.space.HCL.c"><code class="name">var <span class="ident">c</span> : float</code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="pyramidtriangles.ponzicolor.space.HCL.h"><code class="name">var <span class="ident">h</span> : float</code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="pyramidtriangles.ponzicolor.space.HCL.l"><code class="name">var <span class="ident">l</span> : float</code></dt>
<dd>
<div class="desc"></div>
</dd>
</dl>
</dd>
<dt id="pyramidtriangles.ponzicolor.space.HSV"><code class="flex name class">
<span>class <span class="ident">HSV</span></span>
<span>(</span><span>h: float, s: float, v: float)</span>
</code></dt>
<dd>
<div class="desc"><p>Hue in [0..360], Saturation and Value in [0..1]. You're better off using HCL, see below.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@dataclass
class HSV:
    &#34;&#34;&#34;
    Hue in [0..360], Saturation and Value in [0..1]. You&#39;re better off using HCL, see below.
    &#34;&#34;&#34;
    h: float
    s: float
    v: float</code></pre>
</details>
<h3>Class variables</h3>
<dl>
<dt id="pyramidtriangles.ponzicolor.space.HSV.h"><code class="name">var <span class="ident">h</span> : float</code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="pyramidtriangles.ponzicolor.space.HSV.s"><code class="name">var <span class="ident">s</span> : float</code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="pyramidtriangles.ponzicolor.space.HSV.v"><code class="name">var <span class="ident">v</span> : float</code></dt>
<dd>
<div class="desc"></div>
</dd>
</dl>
</dd>
<dt id="pyramidtriangles.ponzicolor.space.Lab"><code class="flex name class">
<span>class <span class="ident">Lab</span></span>
<span>(</span><span>l: float, a: float, b: float)</span>
</code></dt>
<dd>
<div class="desc"><p>Lab is a color in the CIE L<em>a</em>b* perceptually-uniform color space.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@dataclass
class Lab:
    &#34;&#34;&#34;
    Lab is a color in the CIE L*a*b* perceptually-uniform color space.
    &#34;&#34;&#34;

    l: float
    a: float
    b: float</code></pre>
</details>
<h3>Class variables</h3>
<dl>
<dt id="pyramidtriangles.ponzicolor.space.Lab.a"><code class="name">var <span class="ident">a</span> : float</code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="pyramidtriangles.ponzicolor.space.Lab.b"><code class="name">var <span class="ident">b</span> : float</code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="pyramidtriangles.ponzicolor.space.Lab.l"><code class="name">var <span class="ident">l</span> : float</code></dt>
<dd>
<div class="desc"></div>
</dd>
</dl>
</dd>
<dt id="pyramidtriangles.ponzicolor.space.LinearRGB"><code class="flex name class">
<span>class <span class="ident">LinearRGB</span></span>
<span>(</span><span>r: float, g: float, b: float)</span>
</code></dt>
<dd>
<div class="desc"><p>RGB is a linear color.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@dataclass
class LinearRGB:
    &#34;&#34;&#34;
    RGB is a linear color.
    &#34;&#34;&#34;

    r: float  # [0-1]
    g: float  # [0-1]
    b: float  # [0-1]</code></pre>
</details>
<h3>Class variables</h3>
<dl>
<dt id="pyramidtriangles.ponzicolor.space.LinearRGB.b"><code class="name">var <span class="ident">b</span> : float</code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="pyramidtriangles.ponzicolor.space.LinearRGB.g"><code class="name">var <span class="ident">g</span> : float</code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="pyramidtriangles.ponzicolor.space.LinearRGB.r"><code class="name">var <span class="ident">r</span> : float</code></dt>
<dd>
<div class="desc"></div>
</dd>
</dl>
</dd>
<dt id="pyramidtriangles.ponzicolor.space.RGB"><code class="flex name class">
<span>class <span class="ident">RGB</span></span>
<span>(</span><span>r: float, g: float, b: float)</span>
</code></dt>
<dd>
<div class="desc"><p>RGB is an sRGB color.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@dataclass
class RGB:
    &#34;&#34;&#34;
    RGB is an sRGB color.
    &#34;&#34;&#34;

    r: float  # [0-1]
    g: float  # [0-1]
    b: float  # [0-1]

    @property
    def valid(self) -&gt; bool:
        return 0.0 &lt;= self.r &lt;= 1.0 and 0.0 &lt;= self.g &lt;= 1.0 and 0.0 &lt;= self.b &lt;= 1.0

    def clamp(self) -&gt; RGB:
        def c(v: float) -&gt; float:
            return max(0.0, min(v, 1.0))

        return RGB(c(self.r), c(self.g), c(self.b))</code></pre>
</details>
<h3>Class variables</h3>
<dl>
<dt id="pyramidtriangles.ponzicolor.space.RGB.b"><code class="name">var <span class="ident">b</span> : float</code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="pyramidtriangles.ponzicolor.space.RGB.g"><code class="name">var <span class="ident">g</span> : float</code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="pyramidtriangles.ponzicolor.space.RGB.r"><code class="name">var <span class="ident">r</span> : float</code></dt>
<dd>
<div class="desc"></div>
</dd>
</dl>
<h3>Instance variables</h3>
<dl>
<dt id="pyramidtriangles.ponzicolor.space.RGB.valid"><code class="name">var <span class="ident">valid</span> : bool</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@property
def valid(self) -&gt; bool:
    return 0.0 &lt;= self.r &lt;= 1.0 and 0.0 &lt;= self.g &lt;= 1.0 and 0.0 &lt;= self.b &lt;= 1.0</code></pre>
</details>
</dd>
</dl>
<h3>Methods</h3>
<dl>
<dt id="pyramidtriangles.ponzicolor.space.RGB.clamp"><code class="name flex">
<span>def <span class="ident">clamp</span></span>(<span>self) ‑> <a title="pyramidtriangles.ponzicolor.space.RGB" href="#pyramidtriangles.ponzicolor.space.RGB">RGB</a></span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def clamp(self) -&gt; RGB:
    def c(v: float) -&gt; float:
        return max(0.0, min(v, 1.0))

    return RGB(c(self.r), c(self.g), c(self.b))</code></pre>
</details>
</dd>
</dl>
</dd>
<dt id="pyramidtriangles.ponzicolor.space.RGBW"><code class="flex name class">
<span>class <span class="ident">RGBW</span></span>
<span>(</span><span>r: float, g: float, b: float, w: float)</span>
</code></dt>
<dd>
<div class="desc"><p>RGBW is an sRGB color with an extended white element for saturation.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@dataclass
class RGBW:
    &#34;&#34;&#34;
    RGBW is an sRGB color with an extended white element for saturation.
    &#34;&#34;&#34;
    r: float  # [0-1]
    g: float  # [0-1]
    b: float  # [0-1]
    w: float  # [0-1]</code></pre>
</details>
<h3>Class variables</h3>
<dl>
<dt id="pyramidtriangles.ponzicolor.space.RGBW.b"><code class="name">var <span class="ident">b</span> : float</code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="pyramidtriangles.ponzicolor.space.RGBW.g"><code class="name">var <span class="ident">g</span> : float</code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="pyramidtriangles.ponzicolor.space.RGBW.r"><code class="name">var <span class="ident">r</span> : float</code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="pyramidtriangles.ponzicolor.space.RGBW.w"><code class="name">var <span class="ident">w</span> : float</code></dt>
<dd>
<div class="desc"></div>
</dd>
</dl>
</dd>
<dt id="pyramidtriangles.ponzicolor.space.XYZ"><code class="flex name class">
<span>class <span class="ident">XYZ</span></span>
<span>(</span><span>x: float, y: float, z: float)</span>
</code></dt>
<dd>
<div class="desc"><p>XYZ is a color in CIE's standard color space.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@dataclass
class XYZ:
    &#34;&#34;&#34;
    XYZ is a color in CIE&#39;s standard color space.
    &#34;&#34;&#34;

    x: float
    y: float
    z: float</code></pre>
</details>
<h3>Class variables</h3>
<dl>
<dt id="pyramidtriangles.ponzicolor.space.XYZ.x"><code class="name">var <span class="ident">x</span> : float</code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="pyramidtriangles.ponzicolor.space.XYZ.y"><code class="name">var <span class="ident">y</span> : float</code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="pyramidtriangles.ponzicolor.space.XYZ.z"><code class="name">var <span class="ident">z</span> : float</code></dt>
<dd>
<div class="desc"></div>
</dd>
</dl>
</dd>
</dl>
</section>
</article>
<nav id="sidebar">
<h1>Index</h1>
<div class="toc">
<ul></ul>
</div>
<ul id="index">
<li><h3>Super-module</h3>
<ul>
<li><code><a title="pyramidtriangles.ponzicolor" href="index.html">pyramidtriangles.ponzicolor</a></code></li>
</ul>
</li>
<li><h3><a href="#header-functions">Functions</a></h3>
<ul class="two-column">
<li><code><a title="pyramidtriangles.ponzicolor.space.hcl_to_lab" href="#pyramidtriangles.ponzicolor.space.hcl_to_lab">hcl_to_lab</a></code></li>
<li><code><a title="pyramidtriangles.ponzicolor.space.hsv_to_rgbw" href="#pyramidtriangles.ponzicolor.space.hsv_to_rgbw">hsv_to_rgbw</a></code></li>
<li><code><a title="pyramidtriangles.ponzicolor.space.hsv_to_srgb" href="#pyramidtriangles.ponzicolor.space.hsv_to_srgb">hsv_to_srgb</a></code></li>
<li><code><a title="pyramidtriangles.ponzicolor.space.lab_to_hcl" href="#pyramidtriangles.ponzicolor.space.lab_to_hcl">lab_to_hcl</a></code></li>
<li><code><a title="pyramidtriangles.ponzicolor.space.lab_to_xyz" href="#pyramidtriangles.ponzicolor.space.lab_to_xyz">lab_to_xyz</a></code></li>
<li><code><a title="pyramidtriangles.ponzicolor.space.linear_rgb_to_srgb" href="#pyramidtriangles.ponzicolor.space.linear_rgb_to_srgb">linear_rgb_to_srgb</a></code></li>
<li><code><a title="pyramidtriangles.ponzicolor.space.linear_rgb_to_xyz" href="#pyramidtriangles.ponzicolor.space.linear_rgb_to_xyz">linear_rgb_to_xyz</a></code></li>
<li><code><a title="pyramidtriangles.ponzicolor.space.rgbw_to_hsv" href="#pyramidtriangles.ponzicolor.space.rgbw_to_hsv">rgbw_to_hsv</a></code></li>
<li><code><a title="pyramidtriangles.ponzicolor.space.srgb_to_hsv" href="#pyramidtriangles.ponzicolor.space.srgb_to_hsv">srgb_to_hsv</a></code></li>
<li><code><a title="pyramidtriangles.ponzicolor.space.srgb_to_linear_rgb" href="#pyramidtriangles.ponzicolor.space.srgb_to_linear_rgb">srgb_to_linear_rgb</a></code></li>
<li><code><a title="pyramidtriangles.ponzicolor.space.xyz_to_lab" href="#pyramidtriangles.ponzicolor.space.xyz_to_lab">xyz_to_lab</a></code></li>
<li><code><a title="pyramidtriangles.ponzicolor.space.xyz_to_linear_rgb" href="#pyramidtriangles.ponzicolor.space.xyz_to_linear_rgb">xyz_to_linear_rgb</a></code></li>
</ul>
</li>
<li><h3><a href="#header-classes">Classes</a></h3>
<ul>
<li>
<h4><code><a title="pyramidtriangles.ponzicolor.space.HCL" href="#pyramidtriangles.ponzicolor.space.HCL">HCL</a></code></h4>
<ul class="">
<li><code><a title="pyramidtriangles.ponzicolor.space.HCL.c" href="#pyramidtriangles.ponzicolor.space.HCL.c">c</a></code></li>
<li><code><a title="pyramidtriangles.ponzicolor.space.HCL.h" href="#pyramidtriangles.ponzicolor.space.HCL.h">h</a></code></li>
<li><code><a title="pyramidtriangles.ponzicolor.space.HCL.l" href="#pyramidtriangles.ponzicolor.space.HCL.l">l</a></code></li>
</ul>
</li>
<li>
<h4><code><a title="pyramidtriangles.ponzicolor.space.HSV" href="#pyramidtriangles.ponzicolor.space.HSV">HSV</a></code></h4>
<ul class="">
<li><code><a title="pyramidtriangles.ponzicolor.space.HSV.h" href="#pyramidtriangles.ponzicolor.space.HSV.h">h</a></code></li>
<li><code><a title="pyramidtriangles.ponzicolor.space.HSV.s" href="#pyramidtriangles.ponzicolor.space.HSV.s">s</a></code></li>
<li><code><a title="pyramidtriangles.ponzicolor.space.HSV.v" href="#pyramidtriangles.ponzicolor.space.HSV.v">v</a></code></li>
</ul>
</li>
<li>
<h4><code><a title="pyramidtriangles.ponzicolor.space.Lab" href="#pyramidtriangles.ponzicolor.space.Lab">Lab</a></code></h4>
<ul class="">
<li><code><a title="pyramidtriangles.ponzicolor.space.Lab.a" href="#pyramidtriangles.ponzicolor.space.Lab.a">a</a></code></li>
<li><code><a title="pyramidtriangles.ponzicolor.space.Lab.b" href="#pyramidtriangles.ponzicolor.space.Lab.b">b</a></code></li>
<li><code><a title="pyramidtriangles.ponzicolor.space.Lab.l" href="#pyramidtriangles.ponzicolor.space.Lab.l">l</a></code></li>
</ul>
</li>
<li>
<h4><code><a title="pyramidtriangles.ponzicolor.space.LinearRGB" href="#pyramidtriangles.ponzicolor.space.LinearRGB">LinearRGB</a></code></h4>
<ul class="">
<li><code><a title="pyramidtriangles.ponzicolor.space.LinearRGB.b" href="#pyramidtriangles.ponzicolor.space.LinearRGB.b">b</a></code></li>
<li><code><a title="pyramidtriangles.ponzicolor.space.LinearRGB.g" href="#pyramidtriangles.ponzicolor.space.LinearRGB.g">g</a></code></li>
<li><code><a title="pyramidtriangles.ponzicolor.space.LinearRGB.r" href="#pyramidtriangles.ponzicolor.space.LinearRGB.r">r</a></code></li>
</ul>
</li>
<li>
<h4><code><a title="pyramidtriangles.ponzicolor.space.RGB" href="#pyramidtriangles.ponzicolor.space.RGB">RGB</a></code></h4>
<ul class="">
<li><code><a title="pyramidtriangles.ponzicolor.space.RGB.b" href="#pyramidtriangles.ponzicolor.space.RGB.b">b</a></code></li>
<li><code><a title="pyramidtriangles.ponzicolor.space.RGB.clamp" href="#pyramidtriangles.ponzicolor.space.RGB.clamp">clamp</a></code></li>
<li><code><a title="pyramidtriangles.ponzicolor.space.RGB.g" href="#pyramidtriangles.ponzicolor.space.RGB.g">g</a></code></li>
<li><code><a title="pyramidtriangles.ponzicolor.space.RGB.r" href="#pyramidtriangles.ponzicolor.space.RGB.r">r</a></code></li>
<li><code><a title="pyramidtriangles.ponzicolor.space.RGB.valid" href="#pyramidtriangles.ponzicolor.space.RGB.valid">valid</a></code></li>
</ul>
</li>
<li>
<h4><code><a title="pyramidtriangles.ponzicolor.space.RGBW" href="#pyramidtriangles.ponzicolor.space.RGBW">RGBW</a></code></h4>
<ul class="">
<li><code><a title="pyramidtriangles.ponzicolor.space.RGBW.b" href="#pyramidtriangles.ponzicolor.space.RGBW.b">b</a></code></li>
<li><code><a title="pyramidtriangles.ponzicolor.space.RGBW.g" href="#pyramidtriangles.ponzicolor.space.RGBW.g">g</a></code></li>
<li><code><a title="pyramidtriangles.ponzicolor.space.RGBW.r" href="#pyramidtriangles.ponzicolor.space.RGBW.r">r</a></code></li>
<li><code><a title="pyramidtriangles.ponzicolor.space.RGBW.w" href="#pyramidtriangles.ponzicolor.space.RGBW.w">w</a></code></li>
</ul>
</li>
<li>
<h4><code><a title="pyramidtriangles.ponzicolor.space.XYZ" href="#pyramidtriangles.ponzicolor.space.XYZ">XYZ</a></code></h4>
<ul class="">
<li><code><a title="pyramidtriangles.ponzicolor.space.XYZ.x" href="#pyramidtriangles.ponzicolor.space.XYZ.x">x</a></code></li>
<li><code><a title="pyramidtriangles.ponzicolor.space.XYZ.y" href="#pyramidtriangles.ponzicolor.space.XYZ.y">y</a></code></li>
<li><code><a title="pyramidtriangles.ponzicolor.space.XYZ.z" href="#pyramidtriangles.ponzicolor.space.XYZ.z">z</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</nav>
</main>
<footer id="footer">
<p>Generated by <a href="https://pdoc3.github.io/pdoc"><cite>pdoc</cite> 0.9.2</a>.</p>
</footer>
</body>
</html>